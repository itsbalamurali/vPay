<dtp></dtp>
<div *ngIf="bankHeader">
  <app-bankHeader></app-bankHeader>
</div>

<main class="mt-3">
  <div class="main">

    <img src="assets/images/help.png" class="cursorPointerC fa-beat imgHelp" matTooltip="Bank Help"
      matTooltipPosition="above" (click)="pageHelp()" data-toggle="modal" data-target="#termModal">

    <div class="container" *ngIf="BankOptionCard">
      <!-- Header -->
      <div class="card mb-3">
        <div class="row col-md-12 m-auto">
          <div class="col-md-6">
            <div class="row">
              <img class="img-fluid" style="height: 35px;" src="assets/images/bankdetails.png" alt="Bank Details">
              <h4 style="margin-top: 8px; font-weight: bold;">&nbsp; My Bank </h4>


            </div>
          </div>
          <div class="col-md-6 text-right" *ngIf="banklogo !=null">
          </div>
          <div class="col-md-5 text-right" *ngIf="setBankLogo !=null ">
          </div>
        </div>
      </div>

      <!-- Bank option List -->
      <div class="card-deck row">
        <div *ngIf="showFundTransfer" class="card card-block border-success cardHeight col-sm-12 col-md-6 col-lg-6">
          <div *ngFor="let menu of bankArrayList; let i=index">
            <div *ngIf="menu.CAPTION_NAME == '   Fund Transfer' ">
              <div class="bankMenu">
                <span class="rd-step green">
                  <span class="step-number">
                    <i class="fa fa-exchange" aria-hidden="true"></i>
                  </span>
                </span>
                <h5 class="card-title">{{menu.CAPTION_NAME}}</h5>
              </div>
              <div class="dropdown-content" style="padding-left:2rem">
                <span style=" font-weight: bold;">
                  Inter Bank
                </span>
                <ul class="list-group list-group-flush subMenuList" style="margin-bottom: 15px;">
                  <li class="" *ngFor="let subMenu of listArray1">
                    <img
                      *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID && subMenu.CAPTION_NAME!='      Beneficiary' && subMenu.CLASS_NAME=='otherBank'"
                      src="{{subMenu.IMAGE_NAME}}" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)"
                      *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID && subMenu.CAPTION_NAME!='      Beneficiary'  && subMenu.CLASS_NAME=='otherBank'"
                      (click)="SelectChildMenu(subMenu)">
                      {{subMenu.CAPTION_NAME  | uppercase}}</a></li>
                </ul>

                <span style=" font-weight: bold;">
                  Intra Bank
                </span>
                <ul class="list-group list-group-flush subMenuList">
                  <li class="" *ngFor="let subMenu of listArray1">
                    <img
                      *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID && subMenu.CAPTION_NAME!='      Beneficiary' && subMenu.CLASS_NAME=='ownBank'"
                      src="{{subMenu.IMAGE_NAME}}" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)"
                      *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID && subMenu.CAPTION_NAME!='      Beneficiary'  && subMenu.CLASS_NAME=='ownBank'"
                      (click)="SelectChildMenu(subMenu)">
                      {{subMenu.CAPTION_NAME}}</a></li>
                </ul>
              </div>
              <hr>
              <div class="">
                <div class="bankMenu">
                  <span class="rd-step green">
                    <span class="step-number"> <i class="material-icons">group</i> </span>
                  </span>
                  <h5 class="card-title">Beneficiary</h5>
                </div>
                <div class="dropdown-content" style="padding-left:2rem">
                  <ul class="list-group list-group-flush subMenuList">
                    <li class="" *ngFor="let subMenu of listArray1">
                      <img
                        *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID && subMenu.CAPTION_NAME=='      Beneficiery'"
                        src="{{subMenu.IMAGE_NAME}}" alt="" style="height: 20px;width:20px">

                      <a href="javascript:void(0)"
                        *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID && subMenu.CAPTION_NAME=='      Beneficiery'"
                        (click)="SelectChildMenu(subMenu)">
                        {{subMenu.CAPTION_NAME}}</a></li>
                  </ul>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="card card-block  border-warning cardHeight  col-sm-12 col-md-6 col-lg-3">
          <div *ngFor="let menu of bankArrayList; let i=index">
            <div *ngIf="showFundTransfer==true && i<2">
              <div
                *ngIf="menu.CAPTION_NAME == '   Transaction A/c' || menu.CAPTION_NAME == '   Deposite A/c' || menu.CAPTION_NAME == '   Loan A/c'">
                <div class="bankMenu">
                  <span class="rd-step yellow">
                    <span class="step-number"><i class="fa fa-address-card-o"></i></span>
                  </span>
                  <h5 class="card-title">Account Details</h5>
                </div>
                <div class="dropdown-content" style="padding-left: 2rem">
                  <ul class="list-group list-group-flush subMenuList">
                    <li *ngFor="let menu of bankArrayList">
                      <img
                        *ngIf="menu.CAPTION_NAME == '   Transaction A/c' || menu.CAPTION_NAME == '   Deposite A/c' || menu.CAPTION_NAME == '   Loan A/c'"
                        src="{{menu.IMAGE_NAME}}" alt="" style="height: 20px;width:20px">

                      <a *ngIf="menu.CAPTION_NAME == '   Transaction A/c' || menu.CAPTION_NAME == '   Deposite A/c' || menu.CAPTION_NAME == '   Loan A/c'"
                        href="javascript:void(0)" (click)="SelectParentMenu(menu)">
                        {{menu.CAPTION_NAME}}</a></li>
                  </ul>
                </div>
                <hr>
              </div>
            </div>
            <div *ngIf="showFundTransfer==false && i<1">
              <div
                *ngIf="menu.CAPTION_NAME == '   Transaction A/c' || menu.CAPTION_NAME == '   Deposite A/c' || menu.CAPTION_NAME == '   Loan A/c'">
                <div class="bankMenu">
                  <span class="rd-step yellow">
                    <span class="step-number"> <i class="fa fa-id-card"></i> </span>
                  </span>
                  <h5 class="card-title">Account Details</h5>
                </div>
                <div class="dropdown-content" style="padding-left: 2rem">
                  <ul class="list-group list-group-flush subMenuList">
                    <li *ngFor="let menu of bankArrayList">
                      <img
                        *ngIf="menu.CAPTION_NAME == '   Transaction A/c' || menu.CAPTION_NAME == '   Deposite A/c' || menu.CAPTION_NAME == '   Loan A/c'"
                        src="{{menu.IMAGE_NAME}}" alt="" style="height: 20px;width:20px">

                      <a *ngIf="menu.CAPTION_NAME == '   Transaction A/c' || menu.CAPTION_NAME == '   Deposite A/c' || menu.CAPTION_NAME == '   Loan A/c'"
                        href="javascript:void(0)" (click)="SelectParentMenu(menu)">
                        {{menu.CAPTION_NAME}}</a></li>
                  </ul>
                </div>
                <hr>
              </div>
            </div>

            <div *ngIf="menu.CAPTION_NAME == '   Enquiry'">
              <div class="bankMenu">
                <span class="rd-step yellow">
                  <span class="step-number"> <i class="fa fa-info-circle"></i></span>
                </span>
                <h5 class="card-title">{{menu.CAPTION_NAME}}</h5>
              </div>
              <div class="dropdown-content" style="padding-left: 2rem">
                <ul class="list-group list-group-flush subMenuList">
                  <li *ngFor="let menu of bankArrayList">
                    <img *ngIf="menu.CAPTION_NAME == '   Enquiry'" src="{{menu.IMAGE_NAME}}" alt=""
                      style="height: 20px;width:20px">

                    <a *ngIf="menu.CAPTION_NAME == '   Enquiry'" href="javascript:void(0)"
                      (click)="SelectParentMenu(menu)">
                      {{menu.CAPTION_NAME}}</a></li>
                  <li>
                    
                    <!-- <img src="" alt="" style="height: 20px;width:20px"> -->
                    <i class="fa fa-envelope-o" style="    color: black; height: 20px;width:20px"
                      aria-hidden="true"></i>
                    <a href="javascript:void(0)" (click)="gotoPage('mail')">Mail Box </a></li>
                </ul>
              </div>

            </div>

            <div *ngIf="showFundTransfer && menu.CAPTION_NAME == '   Approval'">
              <div class="bankMenu">
                <span class="rd-step yellow">
                  <span class="step-number"><i class="fa fa-check-circle"></i></span>
                </span>
                <h5 class="card-title">Approve</h5>
              </div>
              <div class="dropdown-content" style="padding-left: 2rem">
                <ul class="list-group list-group-flush subMenuList">
                  <li *ngFor="let menu of bankArrayList">
                    <img *ngIf="menu.CAPTION_NAME == '   Approval'" src="{{menu.IMAGE_NAME}}" alt=""
                      style="height: 20px;width:20px">

                    <a *ngIf="menu.CAPTION_NAME == '   Approval'" href="javascript:void(0)"
                      (click)="SelectParentMenu(menu)">
                      {{menu.CAPTION_NAME}}</a></li>
                </ul>
              </div>
              <hr>
            </div>
          </div>
        </div>

        <div class="card card-block border-info cardHeight  col-sm-12 col-md-6 col-lg-3">
          <div *ngFor="let menu of bankArrayList; let i=index">
            <div *ngIf="menu.CAPTION_NAME == '   Request'">
              <div class="bankMenu">
                <span class="rd-step blue">
                  <span class="step-number"><i class="fa fa-handshake-o" aria-hidden="true"></i></span>
                </span>
                <h5 class="card-title" (click)="SelectParentMenu(menu)">{{menu.CAPTION_NAME}}</h5>
              </div>
              <div class="dropdown-content" style="padding-left: 2rem">
                <ul class="list-group list-group-flush subMenuList">
                  <li *ngFor="let subMenu of listArray1">
                    <img *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID" src="{{subMenu.IMAGE_NAME}}"
                      alt="" style="height: 20px;width:20px">

                    <a href="javascript:void(0)" *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID"
                      (click)="SelectChildMenu(subMenu)">
                      {{subMenu.CAPTION_NAME}}</a></li>

                  <li class="">
                    <!-- <img src="" alt="" style="height: 20px;width:20px"> -->
                    <i class="fa fa-envelope-o" style="    color: black;height: 20px;width:20px" aria-hidden="true"></i>
                    <a href="javascript:void(0)" (click)="gotoPage('Deposit')">Deposit </a></li>

                  <li class="">
                    <!-- <img src="" alt="" style="height: 20px;width:20px"> -->
                    <i class="fa fa-envelope-o" style="    color: black;height: 20px;width:20px" aria-hidden="true"></i>
                    <a href="javascript:void(0)" (click)="gotoPage('loanReq')">Loan Request </a></li>
                </ul>
              </div>
              <hr>
            </div>
            <div *ngIf="menu.CAPTION_NAME == '   My Card'">
              <div class="bankMenu">
                <span class="rd-step blue">
                  <span class="step-number"><i class="fa fa-credit-card" aria-hidden="true"></i></span>
                </span>
                <h5 class="card-title">{{menu.CAPTION_NAME}}</h5>
              </div>
              <div class="dropdown-content" style="padding-left: 2rem">
                <ul class="list-group list-group-flush subMenuList">
                  <li class="" *ngFor="let subMenu of listArray1">
                    <img *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID" src="{{subMenu.IMAGE_NAME}}"
                      alt="" style="height: 20px;width:20px">

                    <a href="javascript:void(0)" *ngIf="menu.MOBILE_MENU_MST_ID===subMenu.PARENT_MENU_MST_ID"
                      (click)="SelectChildMenu(subMenu)">
                      {{subMenu.CAPTION_NAME}}</a></li>



                </ul>
              </div>
            </div>
          </div>
        </div>


        <div class="card card-block border-danger cardHeight  col-sm-12 col-md-6 col-lg-3">
          <div>
            <div class="">
              <div class="bankMenu">
                <span class="rd-step red"> <span class="step-number"><i class="fa fa-folder-open"></i></span></span>
                <h5 class="card-title">Log</h5>
              </div>
              <div class="dropdown-content" style="padding-left: 2rem">
                <ul class="list-group list-group-flush subMenuList">
                  <li class="">
                    <img src="assets/imgs/BankAccImages/TransactionAC.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)" (click)="logs()">
                      Transaction Logs</a></li>
                  <li class="">
                    <img src="assets/imgs/BankAccImages/BeneList.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)" (click)="logs()">
                      Benificiary Logs</a></li>
                  <li class="">
                    <img src="assets/imgs/BankAccImages/chequeBookReq.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)" (click)="logs()">
                      Checkbook Request Logs</a></li>
                  <li class="">
                    <img src="assets/imgs/BankAccImages/stoppayment.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)" (click)="logs()">
                      Stop Payment Request Logs</a></li>
                  <li class="">
                    <img src="assets/imgs/BankAccImages/accDetails.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0)" (click)="logs()">
                      Account Open Logs</a></li>
                </ul>
              </div>
            </div>
            <hr>

            <div class="">
              <div class="bankMenu">
                <span class="rd-step red"> <span class="step-number"><i class="fa fa-lock" aria-hidden="true"></i>
                  </span></span>

                <h5 class="card-title">TPIN</h5>
              </div>
              <div class="dropdown-content1" style="padding-left: 2rem">
                <ul class="list-group list-group-flush subMenuList">
                  <li class=""><img src="assets/imgs/BankAccImages/key.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0}" (click)=" setTpin('set')">
                      Set Transaction PIN</a></li>
                  <li class="">
                    <img src="assets/imgs/BankAccImages/key.png" alt="" style="height: 20px;width:20px">
                    <a href="javascript:void(0}" (click)=" setTpin('unlock')">
                      Unlock TPIN</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

    <div *ngIf="Disp_BankModal" class="modal fade" id="BankModal" data-backdrop="static">
      <div class="modal-dialog modal-dialog-centered bankDialog">
        <div class="modal-content" style='width: 55%;'>
          <div class="modal-header selectBankHeader">
            <p class="title-name" style="color: #fff;">Select Your Bank</p>
            <button type="button" class="close" (click)="btnClose()" data-dismiss="modal"><i
                class="fa fa-close "></i></button>
          </div>
          <div class="modal-body">
            <div class="">
              <div class="row card col-md-12 p-2 mb-3 bankCard" *ngFor="let bank of BankArray" style="margin:auto">
                <div class="userModal" *ngIf="bank.BANK_NAME !='' || bank.BANK_NAME !=null">
                  <div class="text-black p-0" style="font-size:0.9em">
                    <div class="row cursorPointerC" data-dismiss="modal" (click)="SelectedBank(bank)"
                      style="margin-right: 0px !important;margin-left: 0px !important">
                      <div>
                        <img [src]="bank.BANK_LOGO" class="bankImage"
                          *ngIf="bank.BANK_LOGO != '' && bank.BANK_NAME != undefined">
                        <img src="assets/images/bank.png" class="bankImage" *ngIf="bank.BANK_LOGO == ''">
                      </div>
                      <div> <span class="mt-3"
                          style="position: absolute;font-size: 15px;font-weight: bold;">{{bank.BANK_NAME}}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="btnClose()" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- client bank modal -->
    <div *ngIf="ClientCheckList==true && ClientData!=null" class="modal fade" id="BankUserModal" data-backdrop="static">
      <div class="modal-dialog modal-dialog-centered AccountDialogBox" style="max-width:75%;    margin: auto;">
        <div class="modal-content dialog ClientDialog">
          <div class="modal-header selectAccountHeader">
            <p class="title-name" style="color:#fff">Select Your Account</p>
            <button type="button" class="close" (click)="btnClose()" data-dismiss="modal"><i
                class="fa fa-close "></i></button>
          </div>
          <div class="modal-body">
            <div class="row col-md-12 m-auto">

              <div class="ClientDialogBody" *ngFor="let ac of flagCount">
                <div *ngIf="ac == 'I'">
                  <div class="card">
                    <h5 class="p-2" style="font-size: 1.2em;border-bottom: 1px solid orange;">Individual User</h5>

                    <div *ngFor="let acc of ClientData">
                      <div class="row col-md-12 m-auto p-3" *ngIf="acc.CORPORATE_FLAG == 'I'" data-dismiss="modal"
                        (click)="selectedBankUser(acc)">
                        <div class="col-md-2" class="CenterImg">
                          <img class="img-fluid" style="height: 4em" src="assets/images/userProfile-2.png" />
                        </div>
                        <div class="col-md-10 Client-data">
                          <h5 class="Client-data-name">{{acc.CUSTNAME}}</h5>
                          <p class="f-16  Client-data-id">User ID: {{acc.INET_USER_ID}}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="ClientDialogBody" *ngFor="let ac of flagCount">
                <div *ngIf="ac == 'C'">
                  <div class="card">
                    <h5 class="p-2" style="font-size: 1.2em;border-bottom: 1px solid orange;">Corporate User</h5>
                    <div *ngFor="let acc of ClientData">
                      <div class="row col-md-12 m-auto p-3" *ngIf="acc.CORPORATE_FLAG == 'C'" data-dismiss="modal"
                        (click)="selectedBankUser(acc)">
                        <div class="col-md-2" class="CenterImg">
                          <img class="img-fluid" style="height: 4em" src="assets/images/Multiple_user-Profile.png" />
                        </div>
                        <div class="col-md-10 Client-data">
                          <h5 class="Client-data-name">{{acc.CUSTNAME}}</h5>
                          <p class="f-16 Client-data-id" style="margin-bottom: 0 !important;">User ID:
                            {{acc.INET_USER_ID}}</p>
                          <p class="f-16 Client-data-id" style="margin-bottom: 0 !important;">Corp ID:
                            {{acc.INET_CORP_ID}}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="btnClose()" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- term modal -->
    <div class="modal fade" id="termModal">
      <div class="modal-dialog modal-dialog-centered" style="max-width:1000px;">
        <div class="modal-content">
          <div class="modal-body" style="height: 400px;overflow: auto;">
            <div *ngFor="let item of termCondContent">
              <p style="text-transform: uppercase; font-weight: bold">
                {{item.TERM_COND_HEADER}}
              </p>
              <p style="margin-top: 2%">
                {{item.TERM_COND_DETAIL}}
              </p>
              <br>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--POPUP END-->


    <!--Authorized user modal -->
    <!-- <div *ngIf="Disp_authUserModal" class="modal fade" id="authUserModal" data-backdrop="static">
      <div class="modal-dialog modal-dialog-centered LoginDialogBox" style="max-width: 60vw;">
        <div class="modal-content passwordModal">
          <div class="modal-header">
            <p class="title-name">Enter Login Password</p>
            <button type="button" class="close" (click)="btnClose()" data-dismiss="modal"><i
                class="fa fa-close "></i></button>
          </div>
          <div class="modal-body" style="height: 20vh;">
            <div class="d-flex">
              <input type="password" class="form-control" required autocomplete="off" #txtSearchterm1 appAutoFocus
                id="txtSearchterm1" maxlength="20" inputType="alphaNumeric" [(ngModel)]="password" autofocus
                placeholder="Enter Login Password" (keyup)="onKeyup($event)">

              <div>
                <button mat-raised-button class="btn btn-success text-white" type="button" data-dismiss="modal"
                  (click)="AuthorizeUser()">Submit</button>
              </div>
            </div>
            <p class="p-1" style="color: red" *ngIf="showError">{{errMsg}}</p>
          </div>
        </div>
      </div>
    </div> -->


    <!-- Modal HTML -->
    <div *ngIf="Disp_authUserModal" class="modal fade" id="authUserModal" data-backdrop="static">
      <div class="modal-dialog modal-login" style="margin: auto 25%;">
        <div class="modal-content" style="top: 13rem !important;">
          <div class="modal-header border-0 text-center d-block">
            <div class="avatar" style="margin-top: -4em;">
              <img *ngIf='showUserIcon' class="shadow mb-3 bg-white rounded rounded-circle"
                src="assets/images/cardProfile.png" alt="Avatar">
              <img *ngIf='!showUserIcon' class="img-radius shadow mb-3 bg-white rounded rounded-circle"
                [src]="domSanitizer.bypassSecurityTrustUrl(clientPhoto)" alt="">
            </div>
            <h4 class="modal-title">{{CUSTNAME}}</h4>
          </div>
          <div class="modal-body text-center p-4" style="height:12rem;">
          
            <mat-form-field class="example-full-width">
              <input matInput required autocomplete="off" placeholder="Enter your password" inputType="alphaNumeric"
                maxlength="20" [(ngModel)]="password" [type]="hide ? 'password' : 'text'" (keyup)="onKeyup($event)">
              <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </mat-form-field>
            <p class="p-1" style="color: red" *ngIf="showError">{{errMsg}}</p>
            <div class="d-flex">
              <button type="button" class="btn-hover color-3" mat-raised-button data-dismiss="modal"
                (click)="AuthorizeUser()">Submit</button>
              <button type="button" class="btn-hover color-3" mat-raised-button data-dismiss="modal"
                (click)="btnClose()">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--POPUP END-->

  </div>
</main>


<div class="gap"></div>
<div class="gap"></div>