/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { BehaviorSubject } from 'rxjs';
var PanZoomConfig = /** @class */ (function () {
    function PanZoomConfig(options) {
        if (options === void 0) { options = null; }
        this.zoomLevels = 5;
        this.neutralZoomLevel = 2;
        this.scalePerZoomLevel = 2.0;
        this.initialZoomLevel = this.neutralZoomLevel;
        this.friction = 10.0;
        this.haltSpeed = 100.0;
        this.initialPanX = 0;
        this.initialPanY = 0;
        this.initialZoomToFit = null;
        this.keepInBounds = false;
        this.keepInBoundsDragPullback = 0.7;
        this.keepInBoundsRestoreForce = 0.5;
        this.panOnClickDrag = true;
        this.dragMouseButton = 'left'; // left, middle, right
        // left, middle, right
        this.zoomButtonIncrement = 1.0;
        this.zoomOnDoubleClick = true;
        this.zoomOnMouseWheel = true;
        this.invertMouseWheel = false;
        this.zoomStepDuration = 0.2;
        this.zoomToFitZoomLevelFactor = 0.95;
        this.freeMouseWheel = true;
        this.freeMouseWheelFactor = 0.08;
        this.noDragFromElementClass = null;
        this.modelChanged = new BehaviorSubject({
            isPanning: null,
            zoomLevel: null,
            pan: {
                x: null,
                y: null
            }
        });
        this.api = new BehaviorSubject({
            model: null,
            config: null,
            changeZoomLevel: null,
            zoomIn: null,
            zoomOut: null,
            zoomToFit: null,
            getViewPosition: null,
            getModelPosition: null,
            resetView: null,
            panToPoint: null,
            panDelta: null,
            panDeltaPercent: null,
            panDeltaAbsolute: null
        });
        if (!options) {
            return;
        }
        if ('zoomLevels' in options) {
            this.zoomLevels = options.zoomLevels;
        }
        if ('neutralZoomLevel' in options) {
            this.neutralZoomLevel = options.neutralZoomLevel;
        }
        if ('scalePerZoomLevel' in options) {
            this.scalePerZoomLevel = options.scalePerZoomLevel;
        }
        if ('initialZoomLevel' in options) {
            this.initialZoomLevel = options.initialZoomLevel;
        }
        if ('friction' in options) {
            this.friction = options.friction;
        }
        if ('haltSpeed' in options) {
            this.haltSpeed = options.haltSpeed;
        }
        if ('initialPanX' in options) {
            this.initialPanX = options.initialPanX;
        }
        if ('initialPanY' in options) {
            this.initialPanY = options.initialPanY;
        }
        if ('initialZoomToFit' in options) {
            this.initialZoomToFit = options.initialZoomToFit;
        }
        if ('keepInBounds' in options) {
            this.keepInBounds = options.keepInBounds;
        }
        if ('keepInBoundsDragPullback' in options) {
            this.keepInBoundsDragPullback = options.keepInBoundsDragPullback;
        }
        if ('keepInBoundsRestoreForce' in options) {
            this.keepInBoundsRestoreForce = options.keepInBoundsRestoreForce;
        }
        if ('panOnClickDrag' in options) {
            this.panOnClickDrag = options.panOnClickDrag;
        }
        if ('dragMouseButton' in options) {
            this.dragMouseButton = options.dragMouseButton;
        }
        if ('zoomButtonIncrement' in options) {
            this.zoomButtonIncrement = options.zoomButtonIncrement;
        }
        if ('zoomOnDoubleClick' in options) {
            this.zoomOnDoubleClick = options.zoomOnDoubleClick;
        }
        if ('zoomOnMouseWheel' in options) {
            this.zoomOnMouseWheel = options.zoomOnMouseWheel;
        }
        if ('invertMouseWheel' in options) {
            this.invertMouseWheel = options.invertMouseWheel;
        }
        if ('zoomStepDuration' in options) {
            this.zoomStepDuration = options.zoomStepDuration;
        }
        if ('zoomToFitZoomLevelFactor' in options) {
            this.zoomToFitZoomLevelFactor = options.zoomToFitZoomLevelFactor;
        }
        if ('freeMouseWheel' in options) {
            this.freeMouseWheel = options.freeMouseWheel;
        }
        if ('freeMouseWheelFactor' in options) {
            this.freeMouseWheelFactor = options.freeMouseWheelFactor;
        }
        if (this.keepInBounds && this.neutralZoomLevel !== 0) {
            console.warn('You have set keepInBounds to true and neutralZoomLevel to ' + this.neutralZoomLevel + '. Be aware that the zoom level cannot go below ' + this.neutralZoomLevel);
        }
        if ('noDragFromElementClass' in options) {
            this.noDragFromElementClass = options.noDragFromElementClass;
        }
    }
    return PanZoomConfig;
}());
export { PanZoomConfig };
if (false) {
    /** @type {?} */
    PanZoomConfig.prototype.zoomLevels;
    /** @type {?} */
    PanZoomConfig.prototype.neutralZoomLevel;
    /** @type {?} */
    PanZoomConfig.prototype.scalePerZoomLevel;
    /** @type {?} */
    PanZoomConfig.prototype.initialZoomLevel;
    /** @type {?} */
    PanZoomConfig.prototype.friction;
    /** @type {?} */
    PanZoomConfig.prototype.haltSpeed;
    /** @type {?} */
    PanZoomConfig.prototype.initialPanX;
    /** @type {?} */
    PanZoomConfig.prototype.initialPanY;
    /** @type {?} */
    PanZoomConfig.prototype.initialZoomToFit;
    /** @type {?} */
    PanZoomConfig.prototype.keepInBounds;
    /** @type {?} */
    PanZoomConfig.prototype.keepInBoundsDragPullback;
    /** @type {?} */
    PanZoomConfig.prototype.keepInBoundsRestoreForce;
    /** @type {?} */
    PanZoomConfig.prototype.panOnClickDrag;
    /** @type {?} */
    PanZoomConfig.prototype.dragMouseButton;
    /** @type {?} */
    PanZoomConfig.prototype.zoomButtonIncrement;
    /** @type {?} */
    PanZoomConfig.prototype.zoomOnDoubleClick;
    /** @type {?} */
    PanZoomConfig.prototype.zoomOnMouseWheel;
    /** @type {?} */
    PanZoomConfig.prototype.invertMouseWheel;
    /** @type {?} */
    PanZoomConfig.prototype.zoomStepDuration;
    /** @type {?} */
    PanZoomConfig.prototype.zoomToFitZoomLevelFactor;
    /** @type {?} */
    PanZoomConfig.prototype.freeMouseWheel;
    /** @type {?} */
    PanZoomConfig.prototype.freeMouseWheelFactor;
    /** @type {?} */
    PanZoomConfig.prototype.noDragFromElementClass;
    /** @type {?} */
    PanZoomConfig.prototype.modelChanged;
    /** @type {?} */
    PanZoomConfig.prototype.api;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFuem9vbS1jb25maWcuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItcGFuem9vbS8iLCJzb3VyY2VzIjpbImxpYi9wYW56b29tLWNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFXLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUtoRDtJQW1ERSx1QkFBWSxPQUFjO1FBQWQsd0JBQUEsRUFBQSxjQUFjO1FBakQxQixlQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ2YscUJBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLHNCQUFpQixHQUFHLEdBQUcsQ0FBQztRQUN4QixxQkFBZ0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDekMsYUFBUSxHQUFHLElBQUksQ0FBQztRQUNoQixjQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLHFCQUFnQixHQUFTLElBQUksQ0FBQztRQUM5QixpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUNyQiw2QkFBd0IsR0FBRyxHQUFHLENBQUM7UUFDL0IsNkJBQXdCLEdBQUcsR0FBRyxDQUFDO1FBQy9CLG1CQUFjLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLG9CQUFlLEdBQUcsTUFBTSxDQUFDLENBQUMsc0JBQXNCOztRQUNoRCx3QkFBbUIsR0FBRyxHQUFHLENBQUM7UUFDMUIsc0JBQWlCLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLHFCQUFnQixHQUFHLElBQUksQ0FBQztRQUN4QixxQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDekIscUJBQWdCLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLDZCQUF3QixHQUFHLElBQUksQ0FBQztRQUNoQyxtQkFBYyxHQUFHLElBQUksQ0FBQztRQUN0Qix5QkFBb0IsR0FBRyxJQUFJLENBQUM7UUFDNUIsMkJBQXNCLEdBQVcsSUFBSSxDQUFDO1FBQ3RDLGlCQUFZLEdBQWtDLElBQUksZUFBZSxDQUFlO1lBQzlFLFNBQVMsRUFBRSxJQUFJO1lBQ2YsU0FBUyxFQUFFLElBQUk7WUFDZixHQUFHLEVBQUU7Z0JBQ0gsQ0FBQyxFQUFFLElBQUk7Z0JBQ1AsQ0FBQyxFQUFFLElBQUk7YUFDUjtTQUNGLENBQUMsQ0FBQztRQUNILFFBQUcsR0FBZ0MsSUFBSSxlQUFlLENBQWE7WUFDakUsS0FBSyxFQUFFLElBQUk7WUFDWCxNQUFNLEVBQUUsSUFBSTtZQUNaLGVBQWUsRUFBRSxJQUFJO1lBQ3JCLE1BQU0sRUFBRSxJQUFJO1lBQ1osT0FBTyxFQUFFLElBQUk7WUFDYixTQUFTLEVBQUUsSUFBSTtZQUNmLGVBQWUsRUFBRSxJQUFJO1lBQ3JCLGdCQUFnQixFQUFFLElBQUk7WUFDdEIsU0FBUyxFQUFFLElBQUk7WUFDZixVQUFVLEVBQUUsSUFBSTtZQUNoQixRQUFRLEVBQUUsSUFBSTtZQUNkLGVBQWUsRUFBRSxJQUFJO1lBQ3JCLGdCQUFnQixFQUFFLElBQUk7U0FDdkIsQ0FBQyxDQUFDO1FBS0QsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE9BQU87U0FDUjtRQUNELElBQUksWUFBWSxJQUFJLE9BQU8sRUFBRTtZQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7U0FDdEM7UUFDRCxJQUFJLGtCQUFrQixJQUFJLE9BQU8sRUFBRTtZQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDO1NBQ2xEO1FBQ0QsSUFBSSxtQkFBbUIsSUFBSSxPQUFPLEVBQUU7WUFDbEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztTQUNwRDtRQUNELElBQUksa0JBQWtCLElBQUksT0FBTyxFQUFFO1lBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7U0FDbEQ7UUFDRCxJQUFJLFVBQVUsSUFBSSxPQUFPLEVBQUU7WUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxXQUFXLElBQUksT0FBTyxFQUFFO1lBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztTQUNwQztRQUNELElBQUksYUFBYSxJQUFJLE9BQU8sRUFBRTtZQUM1QixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7U0FDeEM7UUFDRCxJQUFJLGFBQWEsSUFBSSxPQUFPLEVBQUU7WUFDNUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO1NBQ3hDO1FBQ0QsSUFBSSxrQkFBa0IsSUFBSSxPQUFPLEVBQUU7WUFDakMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztTQUNsRDtRQUNELElBQUksY0FBYyxJQUFJLE9BQU8sRUFBRTtZQUM3QixJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUM7U0FDMUM7UUFDRCxJQUFJLDBCQUEwQixJQUFJLE9BQU8sRUFBRTtZQUN6QyxJQUFJLENBQUMsd0JBQXdCLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDO1NBQ2xFO1FBQ0QsSUFBSSwwQkFBMEIsSUFBSSxPQUFPLEVBQUU7WUFDekMsSUFBSSxDQUFDLHdCQUF3QixHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztTQUNsRTtRQUNELElBQUksZ0JBQWdCLElBQUksT0FBTyxFQUFFO1lBQy9CLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQztTQUM5QztRQUNELElBQUksaUJBQWlCLElBQUksT0FBTyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQztTQUNoRDtRQUNELElBQUkscUJBQXFCLElBQUksT0FBTyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUM7U0FDeEQ7UUFDRCxJQUFJLG1CQUFtQixJQUFJLE9BQU8sRUFBRTtZQUNsQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1NBQ3BEO1FBQ0QsSUFBSSxrQkFBa0IsSUFBSSxPQUFPLEVBQUU7WUFDakMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztTQUNsRDtRQUNELElBQUksa0JBQWtCLElBQUksT0FBTyxFQUFFO1lBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7U0FDbEQ7UUFDRCxJQUFJLGtCQUFrQixJQUFJLE9BQU8sRUFBRTtZQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDO1NBQ2xEO1FBQ0QsSUFBSSwwQkFBMEIsSUFBSSxPQUFPLEVBQUU7WUFDekMsSUFBSSxDQUFDLHdCQUF3QixHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztTQUNsRTtRQUNELElBQUksZ0JBQWdCLElBQUksT0FBTyxFQUFFO1lBQy9CLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQztTQUM5QztRQUNELElBQUksc0JBQXNCLElBQUksT0FBTyxFQUFFO1lBQ3JDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUM7U0FDMUQ7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLENBQUMsRUFBRTtZQUNwRCxPQUFPLENBQUMsSUFBSSxDQUFDLDREQUE0RCxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxpREFBaUQsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUNoTDtRQUNELElBQUksd0JBQXdCLElBQUksT0FBTyxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUM7U0FDOUQ7SUFFSCxDQUFDO0lBQ0gsb0JBQUM7QUFBRCxDQUFDLEFBaklELElBaUlDOzs7O0lBL0hDLG1DQUFlOztJQUNmLHlDQUFxQjs7SUFDckIsMENBQXdCOztJQUN4Qix5Q0FBeUM7O0lBQ3pDLGlDQUFnQjs7SUFDaEIsa0NBQWtCOztJQUNsQixvQ0FBZ0I7O0lBQ2hCLG9DQUFnQjs7SUFDaEIseUNBQThCOztJQUM5QixxQ0FBcUI7O0lBQ3JCLGlEQUErQjs7SUFDL0IsaURBQStCOztJQUMvQix1Q0FBc0I7O0lBQ3RCLHdDQUF5Qjs7SUFDekIsNENBQTBCOztJQUMxQiwwQ0FBeUI7O0lBQ3pCLHlDQUF3Qjs7SUFDeEIseUNBQXlCOztJQUN6Qix5Q0FBdUI7O0lBQ3ZCLGlEQUFnQzs7SUFDaEMsdUNBQXNCOztJQUN0Qiw2Q0FBNEI7O0lBQzVCLCtDQUFzQzs7SUFDdEMscUNBT0c7O0lBQ0gsNEJBY0ciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdWJqZWN0LCBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuL3Bhbnpvb20tcmVjdCc7XG5pbXBvcnQgeyBQYW5ab29tTW9kZWwgfSBmcm9tICcuL3Bhbnpvb20tbW9kZWwnO1xuaW1wb3J0IHsgUGFuWm9vbUFQSSB9IGZyb20gJy4vcGFuem9vbS1hcGknO1xuXG5leHBvcnQgY2xhc3MgUGFuWm9vbUNvbmZpZyB7XG5cbiAgem9vbUxldmVscyA9IDU7XG4gIG5ldXRyYWxab29tTGV2ZWwgPSAyO1xuICBzY2FsZVBlclpvb21MZXZlbCA9IDIuMDtcbiAgaW5pdGlhbFpvb21MZXZlbCA9IHRoaXMubmV1dHJhbFpvb21MZXZlbDtcbiAgZnJpY3Rpb24gPSAxMC4wO1xuICBoYWx0U3BlZWQgPSAxMDAuMDtcbiAgaW5pdGlhbFBhblggPSAwO1xuICBpbml0aWFsUGFuWSA9IDA7XG4gIGluaXRpYWxab29tVG9GaXQ6IFJlY3QgPSBudWxsO1xuICBrZWVwSW5Cb3VuZHMgPSBmYWxzZTtcbiAga2VlcEluQm91bmRzRHJhZ1B1bGxiYWNrID0gMC43O1xuICBrZWVwSW5Cb3VuZHNSZXN0b3JlRm9yY2UgPSAwLjU7XG4gIHBhbk9uQ2xpY2tEcmFnID0gdHJ1ZTtcbiAgZHJhZ01vdXNlQnV0dG9uID0gJ2xlZnQnOyAvLyBsZWZ0LCBtaWRkbGUsIHJpZ2h0XG4gIHpvb21CdXR0b25JbmNyZW1lbnQgPSAxLjA7XG4gIHpvb21PbkRvdWJsZUNsaWNrID0gdHJ1ZTtcbiAgem9vbU9uTW91c2VXaGVlbCA9IHRydWU7XG4gIGludmVydE1vdXNlV2hlZWwgPSBmYWxzZTtcbiAgem9vbVN0ZXBEdXJhdGlvbiA9IDAuMjtcbiAgem9vbVRvRml0Wm9vbUxldmVsRmFjdG9yID0gMC45NTtcbiAgZnJlZU1vdXNlV2hlZWwgPSB0cnVlO1xuICBmcmVlTW91c2VXaGVlbEZhY3RvciA9IDAuMDg7XG4gIG5vRHJhZ0Zyb21FbGVtZW50Q2xhc3M6IHN0cmluZyA9IG51bGw7XG4gIG1vZGVsQ2hhbmdlZDogQmVoYXZpb3JTdWJqZWN0PFBhblpvb21Nb2RlbD4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFBhblpvb21Nb2RlbD4oe1xuICAgIGlzUGFubmluZzogbnVsbCxcbiAgICB6b29tTGV2ZWw6IG51bGwsXG4gICAgcGFuOiB7XG4gICAgICB4OiBudWxsLFxuICAgICAgeTogbnVsbFxuICAgIH1cbiAgfSk7XG4gIGFwaTogQmVoYXZpb3JTdWJqZWN0PFBhblpvb21BUEk+ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxQYW5ab29tQVBJPih7XG4gICAgbW9kZWw6IG51bGwsXG4gICAgY29uZmlnOiBudWxsLFxuICAgIGNoYW5nZVpvb21MZXZlbDogbnVsbCxcbiAgICB6b29tSW46IG51bGwsXG4gICAgem9vbU91dDogbnVsbCxcbiAgICB6b29tVG9GaXQ6IG51bGwsXG4gICAgZ2V0Vmlld1Bvc2l0aW9uOiBudWxsLFxuICAgIGdldE1vZGVsUG9zaXRpb246IG51bGwsXG4gICAgcmVzZXRWaWV3OiBudWxsLFxuICAgIHBhblRvUG9pbnQ6IG51bGwsXG4gICAgcGFuRGVsdGE6IG51bGwsXG4gICAgcGFuRGVsdGFQZXJjZW50OiBudWxsLFxuICAgIHBhbkRlbHRhQWJzb2x1dGU6IG51bGxcbiAgfSk7XG5cblxuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSBudWxsKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgnem9vbUxldmVscycgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy56b29tTGV2ZWxzID0gb3B0aW9ucy56b29tTGV2ZWxzO1xuICAgIH1cbiAgICBpZiAoJ25ldXRyYWxab29tTGV2ZWwnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMubmV1dHJhbFpvb21MZXZlbCA9IG9wdGlvbnMubmV1dHJhbFpvb21MZXZlbDtcbiAgICB9XG4gICAgaWYgKCdzY2FsZVBlclpvb21MZXZlbCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5zY2FsZVBlclpvb21MZXZlbCA9IG9wdGlvbnMuc2NhbGVQZXJab29tTGV2ZWw7XG4gICAgfVxuICAgIGlmICgnaW5pdGlhbFpvb21MZXZlbCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5pbml0aWFsWm9vbUxldmVsID0gb3B0aW9ucy5pbml0aWFsWm9vbUxldmVsO1xuICAgIH1cbiAgICBpZiAoJ2ZyaWN0aW9uJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmZyaWN0aW9uID0gb3B0aW9ucy5mcmljdGlvbjtcbiAgICB9XG4gICAgaWYgKCdoYWx0U3BlZWQnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuaGFsdFNwZWVkID0gb3B0aW9ucy5oYWx0U3BlZWQ7XG4gICAgfVxuICAgIGlmICgnaW5pdGlhbFBhblgnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFBhblggPSBvcHRpb25zLmluaXRpYWxQYW5YO1xuICAgIH1cbiAgICBpZiAoJ2luaXRpYWxQYW5ZJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmluaXRpYWxQYW5ZID0gb3B0aW9ucy5pbml0aWFsUGFuWTtcbiAgICB9XG4gICAgaWYgKCdpbml0aWFsWm9vbVRvRml0JyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmluaXRpYWxab29tVG9GaXQgPSBvcHRpb25zLmluaXRpYWxab29tVG9GaXQ7XG4gICAgfVxuICAgIGlmICgna2VlcEluQm91bmRzJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmtlZXBJbkJvdW5kcyA9IG9wdGlvbnMua2VlcEluQm91bmRzO1xuICAgIH1cbiAgICBpZiAoJ2tlZXBJbkJvdW5kc0RyYWdQdWxsYmFjaycgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5rZWVwSW5Cb3VuZHNEcmFnUHVsbGJhY2sgPSBvcHRpb25zLmtlZXBJbkJvdW5kc0RyYWdQdWxsYmFjaztcbiAgICB9XG4gICAgaWYgKCdrZWVwSW5Cb3VuZHNSZXN0b3JlRm9yY2UnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMua2VlcEluQm91bmRzUmVzdG9yZUZvcmNlID0gb3B0aW9ucy5rZWVwSW5Cb3VuZHNSZXN0b3JlRm9yY2U7XG4gICAgfVxuICAgIGlmICgncGFuT25DbGlja0RyYWcnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMucGFuT25DbGlja0RyYWcgPSBvcHRpb25zLnBhbk9uQ2xpY2tEcmFnO1xuICAgIH1cbiAgICBpZiAoJ2RyYWdNb3VzZUJ1dHRvbicgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5kcmFnTW91c2VCdXR0b24gPSBvcHRpb25zLmRyYWdNb3VzZUJ1dHRvbjtcbiAgICB9XG4gICAgaWYgKCd6b29tQnV0dG9uSW5jcmVtZW50JyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLnpvb21CdXR0b25JbmNyZW1lbnQgPSBvcHRpb25zLnpvb21CdXR0b25JbmNyZW1lbnQ7XG4gICAgfVxuICAgIGlmICgnem9vbU9uRG91YmxlQ2xpY2snIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuem9vbU9uRG91YmxlQ2xpY2sgPSBvcHRpb25zLnpvb21PbkRvdWJsZUNsaWNrO1xuICAgIH1cbiAgICBpZiAoJ3pvb21Pbk1vdXNlV2hlZWwnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuem9vbU9uTW91c2VXaGVlbCA9IG9wdGlvbnMuem9vbU9uTW91c2VXaGVlbDtcbiAgICB9XG4gICAgaWYgKCdpbnZlcnRNb3VzZVdoZWVsJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmludmVydE1vdXNlV2hlZWwgPSBvcHRpb25zLmludmVydE1vdXNlV2hlZWw7XG4gICAgfVxuICAgIGlmICgnem9vbVN0ZXBEdXJhdGlvbicgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy56b29tU3RlcER1cmF0aW9uID0gb3B0aW9ucy56b29tU3RlcER1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAoJ3pvb21Ub0ZpdFpvb21MZXZlbEZhY3RvcicgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy56b29tVG9GaXRab29tTGV2ZWxGYWN0b3IgPSBvcHRpb25zLnpvb21Ub0ZpdFpvb21MZXZlbEZhY3RvcjtcbiAgICB9XG4gICAgaWYgKCdmcmVlTW91c2VXaGVlbCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5mcmVlTW91c2VXaGVlbCA9IG9wdGlvbnMuZnJlZU1vdXNlV2hlZWw7XG4gICAgfVxuICAgIGlmICgnZnJlZU1vdXNlV2hlZWxGYWN0b3InIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZnJlZU1vdXNlV2hlZWxGYWN0b3IgPSBvcHRpb25zLmZyZWVNb3VzZVdoZWVsRmFjdG9yO1xuICAgIH1cbiAgICBpZiAodGhpcy5rZWVwSW5Cb3VuZHMgJiYgdGhpcy5uZXV0cmFsWm9vbUxldmVsICE9PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1lvdSBoYXZlIHNldCBrZWVwSW5Cb3VuZHMgdG8gdHJ1ZSBhbmQgbmV1dHJhbFpvb21MZXZlbCB0byAnICsgdGhpcy5uZXV0cmFsWm9vbUxldmVsICsgJy4gQmUgYXdhcmUgdGhhdCB0aGUgem9vbSBsZXZlbCBjYW5ub3QgZ28gYmVsb3cgJyArIHRoaXMubmV1dHJhbFpvb21MZXZlbCk7XG4gICAgfVxuICAgIGlmICgnbm9EcmFnRnJvbUVsZW1lbnRDbGFzcycgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5ub0RyYWdGcm9tRWxlbWVudENsYXNzID0gb3B0aW9ucy5ub0RyYWdGcm9tRWxlbWVudENsYXNzO1xuICAgIH1cblxuICB9XG59XG4iXX0=