/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { BehaviorSubject } from 'rxjs';
export class PanZoomConfig {
    /**
     * @param {?=} options
     */
    constructor(options = null) {
        this.zoomLevels = 5;
        this.neutralZoomLevel = 2;
        this.scalePerZoomLevel = 2.0;
        this.initialZoomLevel = this.neutralZoomLevel;
        this.friction = 10.0;
        this.haltSpeed = 100.0;
        this.initialPanX = 0;
        this.initialPanY = 0;
        this.initialZoomToFit = null;
        this.keepInBounds = false;
        this.keepInBoundsDragPullback = 0.7;
        this.keepInBoundsRestoreForce = 0.5;
        this.panOnClickDrag = true;
        this.dragMouseButton = 'left'; // left, middle, right
        // left, middle, right
        this.zoomButtonIncrement = 1.0;
        this.zoomOnDoubleClick = true;
        this.zoomOnMouseWheel = true;
        this.invertMouseWheel = false;
        this.zoomStepDuration = 0.2;
        this.zoomToFitZoomLevelFactor = 0.95;
        this.freeMouseWheel = true;
        this.freeMouseWheelFactor = 0.08;
        this.noDragFromElementClass = null;
        this.modelChanged = new BehaviorSubject({
            isPanning: null,
            zoomLevel: null,
            pan: {
                x: null,
                y: null
            }
        });
        this.api = new BehaviorSubject({
            model: null,
            config: null,
            changeZoomLevel: null,
            zoomIn: null,
            zoomOut: null,
            zoomToFit: null,
            getViewPosition: null,
            getModelPosition: null,
            resetView: null,
            panToPoint: null,
            panDelta: null,
            panDeltaPercent: null,
            panDeltaAbsolute: null
        });
        if (!options) {
            return;
        }
        if ('zoomLevels' in options) {
            this.zoomLevels = options.zoomLevels;
        }
        if ('neutralZoomLevel' in options) {
            this.neutralZoomLevel = options.neutralZoomLevel;
        }
        if ('scalePerZoomLevel' in options) {
            this.scalePerZoomLevel = options.scalePerZoomLevel;
        }
        if ('initialZoomLevel' in options) {
            this.initialZoomLevel = options.initialZoomLevel;
        }
        if ('friction' in options) {
            this.friction = options.friction;
        }
        if ('haltSpeed' in options) {
            this.haltSpeed = options.haltSpeed;
        }
        if ('initialPanX' in options) {
            this.initialPanX = options.initialPanX;
        }
        if ('initialPanY' in options) {
            this.initialPanY = options.initialPanY;
        }
        if ('initialZoomToFit' in options) {
            this.initialZoomToFit = options.initialZoomToFit;
        }
        if ('keepInBounds' in options) {
            this.keepInBounds = options.keepInBounds;
        }
        if ('keepInBoundsDragPullback' in options) {
            this.keepInBoundsDragPullback = options.keepInBoundsDragPullback;
        }
        if ('keepInBoundsRestoreForce' in options) {
            this.keepInBoundsRestoreForce = options.keepInBoundsRestoreForce;
        }
        if ('panOnClickDrag' in options) {
            this.panOnClickDrag = options.panOnClickDrag;
        }
        if ('dragMouseButton' in options) {
            this.dragMouseButton = options.dragMouseButton;
        }
        if ('zoomButtonIncrement' in options) {
            this.zoomButtonIncrement = options.zoomButtonIncrement;
        }
        if ('zoomOnDoubleClick' in options) {
            this.zoomOnDoubleClick = options.zoomOnDoubleClick;
        }
        if ('zoomOnMouseWheel' in options) {
            this.zoomOnMouseWheel = options.zoomOnMouseWheel;
        }
        if ('invertMouseWheel' in options) {
            this.invertMouseWheel = options.invertMouseWheel;
        }
        if ('zoomStepDuration' in options) {
            this.zoomStepDuration = options.zoomStepDuration;
        }
        if ('zoomToFitZoomLevelFactor' in options) {
            this.zoomToFitZoomLevelFactor = options.zoomToFitZoomLevelFactor;
        }
        if ('freeMouseWheel' in options) {
            this.freeMouseWheel = options.freeMouseWheel;
        }
        if ('freeMouseWheelFactor' in options) {
            this.freeMouseWheelFactor = options.freeMouseWheelFactor;
        }
        if (this.keepInBounds && this.neutralZoomLevel !== 0) {
            console.warn('You have set keepInBounds to true and neutralZoomLevel to ' + this.neutralZoomLevel + '. Be aware that the zoom level cannot go below ' + this.neutralZoomLevel);
        }
        if ('noDragFromElementClass' in options) {
            this.noDragFromElementClass = options.noDragFromElementClass;
        }
    }
}
if (false) {
    /** @type {?} */
    PanZoomConfig.prototype.zoomLevels;
    /** @type {?} */
    PanZoomConfig.prototype.neutralZoomLevel;
    /** @type {?} */
    PanZoomConfig.prototype.scalePerZoomLevel;
    /** @type {?} */
    PanZoomConfig.prototype.initialZoomLevel;
    /** @type {?} */
    PanZoomConfig.prototype.friction;
    /** @type {?} */
    PanZoomConfig.prototype.haltSpeed;
    /** @type {?} */
    PanZoomConfig.prototype.initialPanX;
    /** @type {?} */
    PanZoomConfig.prototype.initialPanY;
    /** @type {?} */
    PanZoomConfig.prototype.initialZoomToFit;
    /** @type {?} */
    PanZoomConfig.prototype.keepInBounds;
    /** @type {?} */
    PanZoomConfig.prototype.keepInBoundsDragPullback;
    /** @type {?} */
    PanZoomConfig.prototype.keepInBoundsRestoreForce;
    /** @type {?} */
    PanZoomConfig.prototype.panOnClickDrag;
    /** @type {?} */
    PanZoomConfig.prototype.dragMouseButton;
    /** @type {?} */
    PanZoomConfig.prototype.zoomButtonIncrement;
    /** @type {?} */
    PanZoomConfig.prototype.zoomOnDoubleClick;
    /** @type {?} */
    PanZoomConfig.prototype.zoomOnMouseWheel;
    /** @type {?} */
    PanZoomConfig.prototype.invertMouseWheel;
    /** @type {?} */
    PanZoomConfig.prototype.zoomStepDuration;
    /** @type {?} */
    PanZoomConfig.prototype.zoomToFitZoomLevelFactor;
    /** @type {?} */
    PanZoomConfig.prototype.freeMouseWheel;
    /** @type {?} */
    PanZoomConfig.prototype.freeMouseWheelFactor;
    /** @type {?} */
    PanZoomConfig.prototype.noDragFromElementClass;
    /** @type {?} */
    PanZoomConfig.prototype.modelChanged;
    /** @type {?} */
    PanZoomConfig.prototype.api;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFuem9vbS1jb25maWcuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItcGFuem9vbS8iLCJzb3VyY2VzIjpbImxpYi9wYW56b29tLWNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFXLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUtoRCxNQUFNLE9BQU8sYUFBYTs7OztJQW1EeEIsWUFBWSxPQUFPLEdBQUcsSUFBSTtRQWpEMUIsZUFBVSxHQUFHLENBQUMsQ0FBQztRQUNmLHFCQUFnQixHQUFHLENBQUMsQ0FBQztRQUNyQixzQkFBaUIsR0FBRyxHQUFHLENBQUM7UUFDeEIscUJBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQ3pDLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFDaEIsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUNsQixnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUNoQixnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUNoQixxQkFBZ0IsR0FBUyxJQUFJLENBQUM7UUFDOUIsaUJBQVksR0FBRyxLQUFLLENBQUM7UUFDckIsNkJBQXdCLEdBQUcsR0FBRyxDQUFDO1FBQy9CLDZCQUF3QixHQUFHLEdBQUcsQ0FBQztRQUMvQixtQkFBYyxHQUFHLElBQUksQ0FBQztRQUN0QixvQkFBZSxHQUFHLE1BQU0sQ0FBQyxDQUFDLHNCQUFzQjs7UUFDaEQsd0JBQW1CLEdBQUcsR0FBRyxDQUFDO1FBQzFCLHNCQUFpQixHQUFHLElBQUksQ0FBQztRQUN6QixxQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFDeEIscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLHFCQUFnQixHQUFHLEdBQUcsQ0FBQztRQUN2Qiw2QkFBd0IsR0FBRyxJQUFJLENBQUM7UUFDaEMsbUJBQWMsR0FBRyxJQUFJLENBQUM7UUFDdEIseUJBQW9CLEdBQUcsSUFBSSxDQUFDO1FBQzVCLDJCQUFzQixHQUFXLElBQUksQ0FBQztRQUN0QyxpQkFBWSxHQUFr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QUF5Qzs7SUFDekMsaUNBQWdCOztJQUNoQixrQ0FBa0I7O0lBQ2xCLG9DQUFnQjs7SUFDaEIsb0NBQWdCOztJQUNoQix5Q0FBOEI7O0lBQzlCLHFDQUFxQjs7SUFDckIsaURBQStCOztJQUMvQixpREFBK0I7O0lBQy9CLHVDQUFzQjs7SUFDdEIsd0NBQXlCOztJQUN6Qiw0Q0FBMEI7O0lBQzFCLDBDQUF5Qjs7SUFDekIseUNBQXdCOztJQUN4Qix5Q0FBeUI7O0lBQ3pCLHlDQUF1Qjs7SUFDdkIsaURBQWdDOztJQUNoQyx1Q0FBc0I7O0lBQ3RCLDZDQUE0Qjs7SUFDNUIsK0NBQXNDOztJQUN0QyxxQ0FPRzs7SUFDSCw0QkFjRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1YmplY3QsIEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUmVjdCB9IGZyb20gJy4vcGFuem9vbS1yZWN0JztcbmltcG9ydCB7IFBhblpvb21Nb2RlbCB9IGZyb20gJy4vcGFuem9vbS1tb2RlbCc7XG5pbXBvcnQgeyBQYW5ab29tQVBJIH0gZnJvbSAnLi9wYW56b29tLWFwaSc7XG5cbmV4cG9ydCBjbGFzcyBQYW5ab29tQ29uZmlnIHtcblxuICB6b29tTGV2ZWxzID0gNTtcbiAgbmV1dHJhbFpvb21MZXZlbCA9IDI7XG4gIHNjYWxlUGVyWm9vbUxldmVsID0gMi4wO1xuICBpbml0aWFsWm9vbUxldmVsID0gdGhpcy5uZXV0cmFsWm9vbUxldmVsO1xuICBmcmljdGlvbiA9IDEwLjA7XG4gIGhhbHRTcGVlZCA9IDEwMC4wO1xuICBpbml0aWFsUGFuWCA9IDA7XG4gIGluaXRpYWxQYW5ZID0gMDtcbiAgaW5pdGlhbFpvb21Ub0ZpdDogUmVjdCA9IG51bGw7XG4gIGtlZXBJbkJvdW5kcyA9IGZhbHNlO1xuICBrZWVwSW5Cb3VuZHNEcmFnUHVsbGJhY2sgPSAwLjc7XG4gIGtlZXBJbkJvdW5kc1Jlc3RvcmVGb3JjZSA9IDAuNTtcbiAgcGFuT25DbGlja0RyYWcgPSB0cnVlO1xuICBkcmFnTW91c2VCdXR0b24gPSAnbGVmdCc7IC8vIGxlZnQsIG1pZGRsZSwgcmlnaHRcbiAgem9vbUJ1dHRvbkluY3JlbWVudCA9IDEuMDtcbiAgem9vbU9uRG91YmxlQ2xpY2sgPSB0cnVlO1xuICB6b29tT25Nb3VzZVdoZWVsID0gdHJ1ZTtcbiAgaW52ZXJ0TW91c2VXaGVlbCA9IGZhbHNlO1xuICB6b29tU3RlcER1cmF0aW9uID0gMC4yO1xuICB6b29tVG9GaXRab29tTGV2ZWxGYWN0b3IgPSAwLjk1O1xuICBmcmVlTW91c2VXaGVlbCA9IHRydWU7XG4gIGZyZWVNb3VzZVdoZWVsRmFjdG9yID0gMC4wODtcbiAgbm9EcmFnRnJvbUVsZW1lbnRDbGFzczogc3RyaW5nID0gbnVsbDtcbiAgbW9kZWxDaGFuZ2VkOiBCZWhhdmlvclN1YmplY3Q8UGFuWm9vbU1vZGVsPiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8UGFuWm9vbU1vZGVsPih7XG4gICAgaXNQYW5uaW5nOiBudWxsLFxuICAgIHpvb21MZXZlbDogbnVsbCxcbiAgICBwYW46IHtcbiAgICAgIHg6IG51bGwsXG4gICAgICB5OiBudWxsXG4gICAgfVxuICB9KTtcbiAgYXBpOiBCZWhhdmlvclN1YmplY3Q8UGFuWm9vbUFQST4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFBhblpvb21BUEk+KHtcbiAgICBtb2RlbDogbnVsbCxcbiAgICBjb25maWc6IG51bGwsXG4gICAgY2hhbmdlWm9vbUxldmVsOiBudWxsLFxuICAgIHpvb21JbjogbnVsbCxcbiAgICB6b29tT3V0OiBudWxsLFxuICAgIHpvb21Ub0ZpdDogbnVsbCxcbiAgICBnZXRWaWV3UG9zaXRpb246IG51bGwsXG4gICAgZ2V0TW9kZWxQb3NpdGlvbjogbnVsbCxcbiAgICByZXNldFZpZXc6IG51bGwsXG4gICAgcGFuVG9Qb2ludDogbnVsbCxcbiAgICBwYW5EZWx0YTogbnVsbCxcbiAgICBwYW5EZWx0YVBlcmNlbnQ6IG51bGwsXG4gICAgcGFuRGVsdGFBYnNvbHV0ZTogbnVsbFxuICB9KTtcblxuXG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IG51bGwpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCd6b29tTGV2ZWxzJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLnpvb21MZXZlbHMgPSBvcHRpb25zLnpvb21MZXZlbHM7XG4gICAgfVxuICAgIGlmICgnbmV1dHJhbFpvb21MZXZlbCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5uZXV0cmFsWm9vbUxldmVsID0gb3B0aW9ucy5uZXV0cmFsWm9vbUxldmVsO1xuICAgIH1cbiAgICBpZiAoJ3NjYWxlUGVyWm9vbUxldmVsJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLnNjYWxlUGVyWm9vbUxldmVsID0gb3B0aW9ucy5zY2FsZVBlclpvb21MZXZlbDtcbiAgICB9XG4gICAgaWYgKCdpbml0aWFsWm9vbUxldmVsJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmluaXRpYWxab29tTGV2ZWwgPSBvcHRpb25zLmluaXRpYWxab29tTGV2ZWw7XG4gICAgfVxuICAgIGlmICgnZnJpY3Rpb24nIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZnJpY3Rpb24gPSBvcHRpb25zLmZyaWN0aW9uO1xuICAgIH1cbiAgICBpZiAoJ2hhbHRTcGVlZCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5oYWx0U3BlZWQgPSBvcHRpb25zLmhhbHRTcGVlZDtcbiAgICB9XG4gICAgaWYgKCdpbml0aWFsUGFuWCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5pbml0aWFsUGFuWCA9IG9wdGlvbnMuaW5pdGlhbFBhblg7XG4gICAgfVxuICAgIGlmICgnaW5pdGlhbFBhblknIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFBhblkgPSBvcHRpb25zLmluaXRpYWxQYW5ZO1xuICAgIH1cbiAgICBpZiAoJ2luaXRpYWxab29tVG9GaXQnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFpvb21Ub0ZpdCA9IG9wdGlvbnMuaW5pdGlhbFpvb21Ub0ZpdDtcbiAgICB9XG4gICAgaWYgKCdrZWVwSW5Cb3VuZHMnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMua2VlcEluQm91bmRzID0gb3B0aW9ucy5rZWVwSW5Cb3VuZHM7XG4gICAgfVxuICAgIGlmICgna2VlcEluQm91bmRzRHJhZ1B1bGxiYWNrJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmtlZXBJbkJvdW5kc0RyYWdQdWxsYmFjayA9IG9wdGlvbnMua2VlcEluQm91bmRzRHJhZ1B1bGxiYWNrO1xuICAgIH1cbiAgICBpZiAoJ2tlZXBJbkJvdW5kc1Jlc3RvcmVGb3JjZScgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5rZWVwSW5Cb3VuZHNSZXN0b3JlRm9yY2UgPSBvcHRpb25zLmtlZXBJbkJvdW5kc1Jlc3RvcmVGb3JjZTtcbiAgICB9XG4gICAgaWYgKCdwYW5PbkNsaWNrRHJhZycgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5wYW5PbkNsaWNrRHJhZyA9IG9wdGlvbnMucGFuT25DbGlja0RyYWc7XG4gICAgfVxuICAgIGlmICgnZHJhZ01vdXNlQnV0dG9uJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmRyYWdNb3VzZUJ1dHRvbiA9IG9wdGlvbnMuZHJhZ01vdXNlQnV0dG9uO1xuICAgIH1cbiAgICBpZiAoJ3pvb21CdXR0b25JbmNyZW1lbnQnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuem9vbUJ1dHRvbkluY3JlbWVudCA9IG9wdGlvbnMuem9vbUJ1dHRvbkluY3JlbWVudDtcbiAgICB9XG4gICAgaWYgKCd6b29tT25Eb3VibGVDbGljaycgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy56b29tT25Eb3VibGVDbGljayA9IG9wdGlvbnMuem9vbU9uRG91YmxlQ2xpY2s7XG4gICAgfVxuICAgIGlmICgnem9vbU9uTW91c2VXaGVlbCcgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy56b29tT25Nb3VzZVdoZWVsID0gb3B0aW9ucy56b29tT25Nb3VzZVdoZWVsO1xuICAgIH1cbiAgICBpZiAoJ2ludmVydE1vdXNlV2hlZWwnIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuaW52ZXJ0TW91c2VXaGVlbCA9IG9wdGlvbnMuaW52ZXJ0TW91c2VXaGVlbDtcbiAgICB9XG4gICAgaWYgKCd6b29tU3RlcER1cmF0aW9uJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLnpvb21TdGVwRHVyYXRpb24gPSBvcHRpb25zLnpvb21TdGVwRHVyYXRpb247XG4gICAgfVxuICAgIGlmICgnem9vbVRvRml0Wm9vbUxldmVsRmFjdG9yJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLnpvb21Ub0ZpdFpvb21MZXZlbEZhY3RvciA9IG9wdGlvbnMuem9vbVRvRml0Wm9vbUxldmVsRmFjdG9yO1xuICAgIH1cbiAgICBpZiAoJ2ZyZWVNb3VzZVdoZWVsJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLmZyZWVNb3VzZVdoZWVsID0gb3B0aW9ucy5mcmVlTW91c2VXaGVlbDtcbiAgICB9XG4gICAgaWYgKCdmcmVlTW91c2VXaGVlbEZhY3RvcicgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5mcmVlTW91c2VXaGVlbEZhY3RvciA9IG9wdGlvbnMuZnJlZU1vdXNlV2hlZWxGYWN0b3I7XG4gICAgfVxuICAgIGlmICh0aGlzLmtlZXBJbkJvdW5kcyAmJiB0aGlzLm5ldXRyYWxab29tTGV2ZWwgIT09IDApIHtcbiAgICAgIGNvbnNvbGUud2FybignWW91IGhhdmUgc2V0IGtlZXBJbkJvdW5kcyB0byB0cnVlIGFuZCBuZXV0cmFsWm9vbUxldmVsIHRvICcgKyB0aGlzLm5ldXRyYWxab29tTGV2ZWwgKyAnLiBCZSBhd2FyZSB0aGF0IHRoZSB6b29tIGxldmVsIGNhbm5vdCBnbyBiZWxvdyAnICsgdGhpcy5uZXV0cmFsWm9vbUxldmVsKTtcbiAgICB9XG4gICAgaWYgKCdub0RyYWdGcm9tRWxlbWVudENsYXNzJyBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLm5vRHJhZ0Zyb21FbGVtZW50Q2xhc3MgPSBvcHRpb25zLm5vRHJhZ0Zyb21FbGVtZW50Q2xhc3M7XG4gICAgfVxuXG4gIH1cbn1cbiJdfQ==